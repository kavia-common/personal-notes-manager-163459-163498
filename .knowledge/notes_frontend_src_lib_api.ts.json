{"is_source_file": true, "format": "TypeScript", "description": "This file contains API client wrappers for a notes backend, including type definitions, environment configuration, authentication helpers, and functions for CRUD operations on notes and authentication endpoints.", "external_files": ["node-fetch or fetch API (built-in in browsers)", "environment variables via process.env"], "external_methods": ["fetch"], "published": ["login", "signup", "getMe", "listNotes", "getNote", "createNote", "updateNote", "deleteNote"], "classes": [], "methods": [{"name": "function authHeaders() { authHeaders", "description": "Builds request headers with optional Authorization token from localStorage.", "scope": "", "scopeKind": ""}, {"name": "export async function login(email: string, password: string): Promise<LoginResponse> { login", "description": "Logs in a user; calls /auth/login and returns token and user info.", "scope": "", "scopeKind": ""}, {"name": "export async function signup(email: string, password: string): Promise<LoginResponse> { signup", "description": "Signs up a new user; calls /auth/signup and returns token and user info.", "scope": "", "scopeKind": ""}, {"name": "export async function getMe(): Promise<AuthUser> { getMe", "description": "Fetches current authenticated user's profile.", "scope": "", "scopeKind": ""}, {"name": "export async function listNotes(query?: string): Promise<Note[]> { listNotes", "description": "Lists notes, optionally filtered by a search query.", "scope": "", "scopeKind": ""}, {"name": "export async function getNote(id: string): Promise<Note> { getNote", "description": "Retrieves a specific note by its ID.", "scope": "", "scopeKind": ""}, {"name": "export async function createNote(payload: { title: string; content: string }): Promise<Note> { createNote", "description": "Creates a new note with a title and content.", "scope": "", "scopeKind": ""}, {"name": "export async function updateNote( updateNote", "description": "Updates an existing note by ID.", "scope": "", "scopeKind": ""}, {"name": "export async function deleteNote(id: string): Promise<{ success: boolean }> { deleteNote", "description": "Deletes a note by ID.", "scope": "", "scopeKind": ""}], "calls": ["fetch", "fetch", "fetch", "fetch", "fetch", "fetch", "fetch", "fetch", "fetch"], "search-terms": ["API client wrappers", "notes backend", "auth token", "CRUD notes", "auth endpoints"], "state": 2, "file_id": 11, "knowledge_revision": 23, "git_revision": "", "ctags": [{"_type": "tag", "name": "API_BASE", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-163459-163498/notes_frontend/src/lib/api.ts", "pattern": "/^const API_BASE =$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "AuthUser", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-163459-163498/notes_frontend/src/lib/api.ts", "pattern": "/^export type AuthUser = {$/", "language": "TypeScript", "kind": "alias"}, {"_type": "tag", "name": "LoginResponse", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-163459-163498/notes_frontend/src/lib/api.ts", "pattern": "/^export type LoginResponse = {$/", "language": "TypeScript", "kind": "alias"}, {"_type": "tag", "name": "Note", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-163459-163498/notes_frontend/src/lib/api.ts", "pattern": "/^export type Note = {$/", "language": "TypeScript", "kind": "alias"}, {"_type": "tag", "name": "authHeaders", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-163459-163498/notes_frontend/src/lib/api.ts", "pattern": "/^function authHeaders() {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "createNote", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-163459-163498/notes_frontend/src/lib/api.ts", "pattern": "/^export async function createNote(payload: { title: string; content: string }): Promise<Note> {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "data", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-163459-163498/notes_frontend/src/lib/api.ts", "pattern": "/^  const data = (await res.json()) as Note[];$/", "language": "TypeScript", "kind": "constant", "scope": "listNotes", "scopeKind": "function"}, {"_type": "tag", "name": "deleteNote", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-163459-163498/notes_frontend/src/lib/api.ts", "pattern": "/^export async function deleteNote(id: string): Promise<{ success: boolean }> {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "getMe", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-163459-163498/notes_frontend/src/lib/api.ts", "pattern": "/^export async function getMe(): Promise<AuthUser> {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "getNote", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-163459-163498/notes_frontend/src/lib/api.ts", "pattern": "/^export async function getNote(id: string): Promise<Note> {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "headers", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-163459-163498/notes_frontend/src/lib/api.ts", "pattern": "/^  const headers: Record<string, string> = {$/", "language": "TypeScript", "kind": "constant", "scope": "authHeaders", "scopeKind": "function"}, {"_type": "tag", "name": "listNotes", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-163459-163498/notes_frontend/src/lib/api.ts", "pattern": "/^export async function listNotes(query?: string): Promise<Note[]> {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "login", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-163459-163498/notes_frontend/src/lib/api.ts", "pattern": "/^export async function login(email: string, password: string): Promise<LoginResponse> {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "res", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-163459-163498/notes_frontend/src/lib/api.ts", "pattern": "/^  const res = await fetch(`${API_BASE}\\/auth\\/login`, {$/", "language": "TypeScript", "kind": "constant", "scope": "login", "scopeKind": "function"}, {"_type": "tag", "name": "res", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-163459-163498/notes_frontend/src/lib/api.ts", "pattern": "/^  const res = await fetch(`${API_BASE}\\/auth\\/me`, {$/", "language": "TypeScript", "kind": "constant", "scope": "getMe", "scopeKind": "function"}, {"_type": "tag", "name": "res", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-163459-163498/notes_frontend/src/lib/api.ts", "pattern": "/^  const res = await fetch(`${API_BASE}\\/auth\\/signup`, {$/", "language": "TypeScript", "kind": "constant", "scope": "signup", "scopeKind": "function"}, {"_type": "tag", "name": "res", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-163459-163498/notes_frontend/src/lib/api.ts", "pattern": "/^  const res = await fetch(`${API_BASE}\\/notes\\/${id}`, {$/", "language": "TypeScript", "kind": "constant", "scope": "deleteNote", "scopeKind": "function"}, {"_type": "tag", "name": "res", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-163459-163498/notes_frontend/src/lib/api.ts", "pattern": "/^  const res = await fetch(`${API_BASE}\\/notes\\/${id}`, {$/", "language": "TypeScript", "kind": "constant", "scope": "getNote", "scopeKind": "function"}, {"_type": "tag", "name": "res", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-163459-163498/notes_frontend/src/lib/api.ts", "pattern": "/^  const res = await fetch(`${API_BASE}\\/notes\\/${id}`, {$/", "language": "TypeScript", "kind": "constant", "scope": "updateNote", "scopeKind": "function"}, {"_type": "tag", "name": "res", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-163459-163498/notes_frontend/src/lib/api.ts", "pattern": "/^  const res = await fetch(`${API_BASE}\\/notes`, {$/", "language": "TypeScript", "kind": "constant", "scope": "createNote", "scopeKind": "function"}, {"_type": "tag", "name": "res", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-163459-163498/notes_frontend/src/lib/api.ts", "pattern": "/^  const res = await fetch(url.toString(), {$/", "language": "TypeScript", "kind": "constant", "scope": "listNotes", "scopeKind": "function"}, {"_type": "tag", "name": "signup", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-163459-163498/notes_frontend/src/lib/api.ts", "pattern": "/^export async function signup(email: string, password: string): Promise<LoginResponse> {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "token", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-163459-163498/notes_frontend/src/lib/api.ts", "pattern": "/^  const token =$/", "language": "TypeScript", "kind": "constant", "scope": "authHeaders", "scopeKind": "function"}, {"_type": "tag", "name": "updateNote", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-163459-163498/notes_frontend/src/lib/api.ts", "pattern": "/^export async function updateNote($/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "url", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-163459-163498/notes_frontend/src/lib/api.ts", "pattern": "/^  const url = new URL(`${API_BASE}\\/notes`);$/", "language": "TypeScript", "kind": "constant", "scope": "listNotes", "scopeKind": "function"}], "hash": "6def7ce87dae7c5777732e2e8b9a882c", "format-version": 4, "code-base-name": "notes_frontend", "filename": "notes_frontend/src/lib/api.ts", "revision_history": [{"23": ""}]}